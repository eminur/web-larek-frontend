# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура проекта (MVP)

Архитектура приложения спроектирована с использованием патерна MVP

### Базовый код

1. Класс EventEmitter

Реализует паттерн «Наблюдатель» и позволяет подписываться на события и уведомлять подписчиков о наступлении события.
Класс имеет методы on,off,emit — для подписки на событие, отписки от события и уведомления подписчиков о наступлении события соответственно.

2. Класс Component<T> 

Базовый класс для реализации компонентов представления. Предаставляет методы для вывода элементов интерфейса, установки видимости и доступности, установки текстовых значении

### Компоненты модели данных

1. Класс ProductListModel

Реализаует каталог товаров. Позволяет заполнять список товаров, получать список товаров, получать товар по идентификатору, получать общую сумму стоимости выбранных товаров.

2. Класс BasketModel

Реализаует корзину выбранных товаров. Позволяет добавлять товар, удалять товар, получить общее количество товаров, очищать корзину.

3. Класс OrderInfo

Хранит условия оплаты заказа
Поля PaymentMethod , address

4. Класс OrderContact 

Хранит контактные данные заказа
Поля email, phone

5. Класс OrderModel

Объединяет части заказа, реализует композицию классов OrderInfo и OrderContact.
Позволяет записывать и получать значения условии оплаты заказа, записывать и получать контактные данные, выполнять проверку валидности записываемых данных


### Компоненты представления

Все компоненты представления получены путем наследования от базового класса Component<T> и передачи в T соответсвующего интерфейса компонента  

1. Класс Page

Выводить на главной страницу каталог товаров и количество товаров в корзине  

2. Класс Modal

Модальное окно. Предоставляет контейнер для вывода компонентов карточек товара, форм заполнения заказа и вывода информации при успешной отправки заказа

3. Класс Basket

Выводит список товаров в корзине

4. Класс FormOrderInfo

Выводит форму для заполнения данных об способе оплаты и адреса доставки заказа

5. Класс FormOrderContact

Выводит форму для заполнения контактных данных заказа  

6. Класс CardCatalog

Выводит карточку товара в каталог товаров

7. Класс CardPreview

Выводит карточку выбранного товара

8. Класс CardBasket

Выводить карточку товара в список корзины

9. Класс Success

Выводить информации об успешной отправке заказа на сервер

### Ключевые типы данных

```typescript
//Идентификатор товара
export type ProductId = string; 

//Категории товаров
export type ProductCategory =
	| 'софт-скил'
	| 'хард-скил'
	| 'другое'
	| 'дополнительное'
	| 'кнопка';

 //Способ оплаты 
export enum PaymentMethod {
	CARD = 'online',
	CASH = 'при получении',
}

//Валюта 
export enum PriceCurrency {
	PRICLESS = 'Бесценно',
	SYNAPSESS = 'синапсов',
}

//Товар
export interface IProductItem {
	id: ProductId; 
	description: string; 
	image: string;
	title: string;
	category: ProductCategory;
	price: number | null;
}

// Контакты заказа
export interface IOrderContact {
	email: string;
	phone: string;
}

//Условие оплаты заказа
export interface IOrderInfo {
	payment: PaymentMethod; // способ оплаты
	address: string;  //адрес доставки
}

//Товары в заказе
export interface IOrderItems {
	total: number; //сумма заказа
	items: ProductId[]; //позиции заказа
}

//Заказ
export type Order = IOrderInfo & IOrderContact & IOrderItems;

//Результат отправки заказа на сервер
export interface IOrderResult {
	id?: string;
	total?: number;
	error?: string;
}

```
 